<nav
  x-data="{showMenu: false, atTop: false}"
  class="top-0 z-50 px-4 md:pl-4 md:pr-8 py-4 md:py-6 w-full max-w-6xl mx-auto flex items-center justify-between rounded-xl transition-all duration-200"
  :class="{'shadow-md bg-white/40 backdrop-blur-lg': atTop}"
  @scroll.window="atTop = (window.pageYOffset < 50) ? false: true"
>
  <div class="w-[112px]">
    <a href="/">
      <img src="/assets/Rebelfox-with-dot.svg" alt="Rebelfox Logo" />
    </a>
  </div>

  <ul class="hidden md:flex items-center gap-4">
    <li class="my-2">
      {{partial:resume-link}}
      <span class="text-sm font-medium text-slate-600 hover:text-orange-500 transition-all duration-200">Resume</span>
      {{/partial:resume-link}}
    </li>

    <li>
      {{partial:mailto-link}}
      <span class="text-sm font-medium text-slate-600 hover:text-orange-500 transition-all duration-200">Contact</span>
      {{/partial:mailto-link}}
    </li>
  </ul>

  <button class="md:hidden" @click="showMenu = !showMenu">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-7 h-7 my-2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 9h16.5m-16.5 6.75h16.5" />
    </svg>
  </button>

  <template x-teleport="body">
    <div
      x-cloak
      x-on:click="showMenu = false"
      class="p-2 md:p-4 z-50 bg-black/50 h-screen w-full fixed top-0 right-0 left-0 bottom-0"
      x-show="showMenu"
      x-transition:enter="transition ease duration-200 "
      x-transition:enter-start=" opacity-0"
      x-transition:enter-end=" opacity-100"
      x-transition:leave="transition ease duration-200"
      x-transition:leave-start="opacity-100"
      x-transition:leave-end="opacity-0"
    >
      <div
        x-cloak
        x-show="showMenu"
        class="px-4 py-6 md:px-6 bg-white rounded-lg shadow-xl max-w-lg mx-auto z-50"
        x-transition:enter="transition ease-out duration-200 origin-top-right"
        x-transition:enter-start="opacity-0 scale-50"
        x-transition:enter-end="opacity-100 scale-100"
        x-transition:leave="transition ease-in duration-200 origin-top-right"
        x-transition:leave-start="opacity-100 scale-100"
        x-transition:leave-end="opacity-0 scale-50"
      >
        <div class="">
          <header class="flex items-center justify-between">
            <div class="w-[112px]">
              <a href="/">
                <img src="/assets/Rebelfox-with-dot.svg" alt="Rebelfox Logo" />
              </a>
            </div>
            <button @click.stop="showMenu = false" class="z-50">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </header>
          <ul class="mt-20">
            <li class="text-center mb-6">
              {{partial:resume-link}}
              <span class="text-2xl font-medium">View Resume</span>
              {{/partial:resume-link}}
            </li>
            <li class="text-center">
              {{partial:mailto-link}}
              <span class="text-2xl font-medium">Send Mail</span>
              {{/partial:mailto-link}}
            </li>
            <li class="mt-16 text-center space-y-2">
              <!-- <span class="">Contact</span> -->
              <ul class="flex items-center justify-center gap-4">
                <li>
                  <a href="https://www.linkedin.com/in/nerenso-mahabir-52b0b91b/">
                    <iconify-icon icon="formkit:linkedin" class="text-2xl"></iconify-icon>
                  </a>
                </li>
                <li>
                  <a href="https://github.com/Nerenso">
                    <iconify-icon icon="bi:github" class="text-2xl"></iconify-icon>
                  </a>
                </li>
                <!-- <li>
                  {{partial:mailto-link}}
                  <iconify-icon icon="fluent:mail-20-filled" class="text-3xl ml-2"></iconify-icon>
                  {{/partial:mailto-link}}
                  </a>
                </li> -->
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </template>
</nav>
